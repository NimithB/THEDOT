<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dot-Watson X Powered AI Braille</title>
    <style>
        /* Global Styles */
        body {
            font-family: 'Times New Roman', serif;
            background-color: #000; /* Black background */
            margin: 0;
            padding: 0;
            height: 100vh; /* Make the body take up the full screen height */
            display: flex;
            flex-direction: column; /* Align children in a column */
            justify-content: flex-start; /* Align items at the top */
            align-items: center;
        }

        /* Welcome Page Styles */
        .welcome-page {
            text-align: center;
            display: flex; /* Add display flex to welcome page */
            flex-direction: column; /* Make it a column layout */
            align-items: center; /* Center align items */
            margin-top: 20px; /* Add margin to separate from top */
        }

        .welcome-page h1, .welcome-page h2, .connecting-text, .dot-status {
            margin: 0;
        }

        .welcome-page h1 {
            font-size: 48px;
            font-weight: bold;
            background: linear-gradient(to right, #80ff69, #0ee1b4, #d80dac); /* Colorful gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .welcome-page h2 {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(to right, #c369ff, #c2cc33, #e73306); /* Colorful gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px; /* Adjust margin */
        }

        .loading-gif-small {
            width: 80px; /* Adjust size of the small GIF */
            height: 80px; /* Maintain aspect ratio */
            margin-left: 10px; /* Add margin */
        }

        .image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px; /* Add margin */
        }

        .image-container img {
            width: 300px; /* Adjust size of the image */
            height: auto; /* Maintain aspect ratio */
        }

        .connecting-text {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(to right, #ff69b4, #33cc33, #66CCCC); /* Colorful gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 20px;
        }

        .dot-status {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(to right, #ff69b4, #33cc33, #66CCCC); /* Colorful gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="welcome-page">
        <div>
            <h1>WELCOME TO</h1>
            <h2>THE DOT-WATSON X POWERED AI BRAILLE</h2>
        </div>
        <div class="image-container">
            <img src="https://th.bing.com/th/id/R.6efe6d84a3a6af3e3e37369d88259402?rik=o2q60GcqchZFww&riu=http%3a%2f%2fwww.rsaprinting.com%2fimages%2fuploads%2fEye_web3.png&ehk=Ay9B8nBt1Ch6HLcDHtWNI2XVeCavn7mfVYR8IisaoG4%3d&risl=&pid=ImgRaw&r=0" alt="Loading GIF">
        </div>
        <div class="connecting-text" id="connecting-text">Connecting to the Dot... 
            <img src="https://www.bing.com/ck/a?!&&p=c42a0e6ce050435bJmltdHM9MTcyMDY1NjAwMCZpZ3VpZD0wMzg0OWE0Mi0wYTMxLTZlYTMtMzYzYi04ZWUwMGJkOTZmZTAmaW5zaWQ9NTY2MQ&ptn=3&ver=2&hsh=3&fclid=03849a42-0a31-6ea3-363b-8ee00bd96fe0&u=a1L2ltYWdlcy9zZWFyY2g_cT1sb2FkaW5nJTIwZ2lmJkZPUk09SVFGUkJBJmlkPTY5RUNENzgyQjhEQTUxMzdFMURDQUE4NkRFNTg1RTQzRTQzOThDOEM&ntb=1" class="loading-gif-small">
        </div>
        <div class="dot-status" id="dot-status"></div>
    </div>

    <script>
        let connectingText = document.getElementById('connecting-text');
        let dotStatus = document.getElementById('dot-status');

        // Send a request to the backend to check if the ESP8266 is connected
        function checkConnection() {
            fetch('/check_connection')
               .then(response => response.json())
               .then(data => {
                    if (data.connected) {
                        // Stop the running text effect and display the dot status
                        connectingText.textContent = '';
                        dotStatus.textContent = 'YOUR DOT IS CONNECTED';
                    } else {
                        // If not connected, try again after 1 second
                        setTimeout(checkConnection, 1000);
                    }
                });
        }

        // Start checking for connection
        checkConnection();
    </script>
</body>
</html>